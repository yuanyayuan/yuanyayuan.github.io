<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="é¢è¯•,Spring_Boot," />










<meta name="description" content="æ‘˜æŠ„Spring&#x2F;SpringBootå¸¸ç”¨æ³¨è§£ @SpringBootApplication@SpringBootApplicationçœ‹ä½œæ˜¯ @Configurationã€@EnableAutoConfigurationã€@ComponentScan æ³¨è§£çš„é›†åˆã€‚ è¿™ä¸‰ä¸ªæ³¨è§£çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š  @EnableAutoConfigurationï¼šå¯ç”¨ SpringBoot çš„è‡ªåŠ¨é…ç½®æœºåˆ¶ @Comp">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring-Springå¸¸ç”¨æ³¨è§£">
<meta property="og:url" content="https://yuanyayuan.github.io/2021/04/23/Spring-Spring%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/index.html">
<meta property="og:site_name" content="Hikariçš„Javaä¹‹è·¯">
<meta property="og:description" content="æ‘˜æŠ„Spring&#x2F;SpringBootå¸¸ç”¨æ³¨è§£ @SpringBootApplication@SpringBootApplicationçœ‹ä½œæ˜¯ @Configurationã€@EnableAutoConfigurationã€@ComponentScan æ³¨è§£çš„é›†åˆã€‚ è¿™ä¸‰ä¸ªæ³¨è§£çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š  @EnableAutoConfigurationï¼šå¯ç”¨ SpringBoot çš„è‡ªåŠ¨é…ç½®æœºåˆ¶ @Comp">
<meta property="og:locale">
<meta property="article:published_time" content="2021-04-23T15:22:54.000Z">
<meta property="article:modified_time" content="2021-05-18T06:59:11.653Z">
<meta property="article:author" content="LiYuan">
<meta property="article:tag" content="é¢è¯•">
<meta property="article:tag" content="Spring_Boot">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://yuanyayuan.github.io/2021/04/23/Spring-Springå¸¸ç”¨æ³¨è§£/"/>





  <title>Spring-Springå¸¸ç”¨æ³¨è§£ | Hikariçš„Javaä¹‹è·¯</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hikariçš„Javaä¹‹è·¯</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Hello,world</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://yuanyayuan.github.io/2021/04/23/Spring-Spring%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hikariçš„Javaä¹‹è·¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Spring-Springå¸¸ç”¨æ³¨è§£</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-04-23T23:22:54+08:00">
                2021-04-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6-SpringBoot%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">å¸¸ç”¨æ¡†æ¶ - SpringBootå¸¸ç”¨æ³¨è§£</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>æ‘˜æŠ„<a target="_blank" rel="noopener" href="https://snailclimb.gitee.io/javaguide/#/./docs/system-design/framework/spring/SpringBoot+Spring%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%80%BB%E7%BB%93">Spring/SpringBootå¸¸ç”¨æ³¨è§£</a></p>
<h1 id="SpringBootApplication"><a href="#SpringBootApplication" class="headerlink" title="@SpringBootApplication"></a>@SpringBootApplication</h1><p><code>@SpringBootApplication</code>çœ‹ä½œæ˜¯ <code>@Configuration</code>ã€<code>@EnableAutoConfiguration</code>ã€<code>@ComponentScan</code> æ³¨è§£çš„é›†åˆã€‚</p>
<p>è¿™ä¸‰ä¸ªæ³¨è§£çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>@EnableAutoConfigurationï¼šå¯ç”¨ SpringBoot çš„è‡ªåŠ¨é…ç½®æœºåˆ¶</li>
<li>@ComponentScanï¼š æ‰«æè¢«@Component (@Service,@Controller)æ³¨è§£çš„ beanï¼Œæ³¨è§£é»˜è®¤ä¼šæ‰«æè¯¥ç±»æ‰€åœ¨çš„åŒ…ä¸‹æ‰€æœ‰çš„ç±»ã€‚</li>
<li>@Configurationï¼šå…è®¸åœ¨ Spring ä¸Šä¸‹æ–‡ä¸­æ³¨å†Œé¢å¤–çš„ bean æˆ–å¯¼å…¥å…¶ä»–é…ç½®ç±»</li>
</ul>
<h1 id="ComponentScan"><a href="#ComponentScan" class="headerlink" title="@ComponentScan"></a>@ComponentScan</h1><p>@ComponentScanç”¨äºç±»æˆ–æ¥å£ä¸Šä¸»è¦æ˜¯æŒ‡å®šæ‰«æè·¯å¾„ï¼Œspringä¼šæŠŠæŒ‡å®šè·¯å¾„ä¸‹å¸¦æœ‰æŒ‡å®šæ³¨è§£çš„ç±»è‡ªåŠ¨è£…é…åˆ°beanå®¹å™¨é‡Œ</p>
<h1 id="RequestMapping"><a href="#RequestMapping" class="headerlink" title="@RequestMapping"></a>@RequestMapping</h1><p>@RequestMapping æ³¨è§£ç”¨äºå°†ç‰¹å®š HTTP è¯·æ±‚æ–¹æ³•æ˜ å°„åˆ°å°†å¤„ç†ç›¸åº”è¯·æ±‚çš„æ§åˆ¶å™¨ä¸­çš„ç‰¹å®šç±»/æ–¹æ³•ã€‚</p>
<h1 id="Spring-Bean-ç›¸å…³"><a href="#Spring-Bean-ç›¸å…³" class="headerlink" title="Spring Bean ç›¸å…³"></a>Spring Bean ç›¸å…³</h1><h2 id="Autowiredï¼Œ-Resource"><a href="#Autowiredï¼Œ-Resource" class="headerlink" title="@Autowiredï¼Œ@Resource"></a>@Autowiredï¼Œ@Resource</h2><p>åŠŸèƒ½éƒ½æ˜¯é€šè¿‡æ³¨è§£å®ç°ä¾èµ–æ³¨å…¥</p>
<p>@Autowiredæ˜¯Springå®šä¹‰çš„ï¼Œè€Œ@Resourceæ˜¯JSR-250å®šä¹‰çš„</p>
<p>@Autowiredé»˜è®¤æ˜¯byTypeï¼Œå¯ä»¥ä½¿ç”¨@QualifieræŒ‡å®šNameï¼Œ@Resourceé»˜è®¤ByNameï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™ByType</p>
<p>@Autowiredå¯ä»¥å¯¹æ„é€ å™¨ã€æ–¹æ³•ã€å‚æ•°ã€å­—æ®µä½¿ç”¨ï¼Œ@Resourceåªèƒ½å¯¹æ–¹æ³•ã€å­—æ®µä½¿ç”¨</p>
<h3 id="ä¸ºä»€ä¹ˆIDEAåªå¯¹-Autowiredè­¦å‘Š"><a href="#ä¸ºä»€ä¹ˆIDEAåªå¯¹-Autowiredè­¦å‘Š" class="headerlink" title="ä¸ºä»€ä¹ˆIDEAåªå¯¹@Autowiredè­¦å‘Š"></a>ä¸ºä»€ä¹ˆIDEAåªå¯¹@Autowiredè­¦å‘Š</h3><p>@Autowiredæ˜¯Springæä¾›çš„ï¼Œå®ƒæ˜¯ç‰¹å®šIoCæä¾›çš„ç‰¹å®šæ³¨è§£ï¼Œè¿™å°±å¯¼è‡´äº†åº”ç”¨ä¸æ¡†æ¶çš„å¼ºç»‘å®šï¼Œä¸€æ—¦æ¢ç”¨äº†å…¶ä»–çš„IoCæ¡†æ¶ï¼Œæ˜¯ä¸èƒ½å¤Ÿæ”¯æŒæ³¨å…¥çš„</p>
<p>@Resourceæ˜¯JSR-250æä¾›çš„ï¼Œå®ƒæ˜¯Javaæ ‡å‡†ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„IoCå®¹å™¨åº”å½“å»å…¼å®¹å®ƒï¼Œè¿™æ ·å³ä½¿æ›´æ¢å®¹å™¨ï¼Œä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p>
<p><strong>è§£å†³è­¦å‘Šæ–¹æ³•</strong></p>
<p>ç»™ç±»åŠ <code>@RequiredArgsConstructor</code>æ³¨è§£ï¼Œä½¿ç”¨æ„é€ å™¨æ³¨å…¥ï¼Œä½¿ç”¨<code>private final</code>ä¿®é¥°æ³¨å…¥å¯¹è±¡</p>
<h2 id="Component-Repository-Service-Controllerï¼Œ-Bean"><a href="#Component-Repository-Service-Controllerï¼Œ-Bean" class="headerlink" title="@Component,@Repository,@Service, @Controllerï¼Œ@Bean"></a>@Component,@Repository,@Service, @Controllerï¼Œ@Bean</h2><p>ä¸€èˆ¬ä½¿ç”¨ @Autowired æ³¨è§£è®© Spring å®¹å™¨å¸®æˆ‘ä»¬è‡ªåŠ¨è£…é… beanã€‚è¦æƒ³æŠŠç±»æ ‡è¯†æˆå¯ç”¨äº @Autowired æ³¨è§£è‡ªåŠ¨è£…é…çš„ bean çš„ç±»,å¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ³¨è§£å®ç°ï¼š</p>
<ul>
<li>@Component ï¼šé€šç”¨çš„æ³¨è§£ï¼Œæ³¨è§£ä½œç”¨äºç±»ï¼Œå¯æ ‡æ³¨ä»»æ„ç±»ä¸º Spring ç»„ä»¶ã€‚æ˜¯é€šè¿‡ç±»è·¯å¾„æ‰«ææ¥è‡ªåŠ¨ä¾¦æµ‹ä»¥åŠè‡ªåŠ¨è£…é…åˆ°Springå®¹å™¨ä¸­ã€‚</li>
<li>@Repository : å¯¹åº”æŒä¹…å±‚å³ Dao å±‚ï¼Œä¸»è¦ç”¨äºæ•°æ®åº“ç›¸å…³æ“ä½œã€‚</li>
<li>@Service : å¯¹åº”æœåŠ¡å±‚ï¼Œä¸»è¦æ¶‰åŠä¸€äº›å¤æ‚çš„é€»è¾‘ï¼Œéœ€è¦ç”¨åˆ° Dao å±‚ã€‚</li>
<li>@Controller : å¯¹åº” Spring MVC æ§åˆ¶å±‚ï¼Œä¸»è¦ç”¨äºæ¥å—ç”¨æˆ·è¯·æ±‚å¹¶è°ƒç”¨ Service å±‚è¿”å›æ•°æ®ç»™å‰ç«¯é¡µé¢ã€‚</li>
<li>@Beanï¼šæ³¨è§£ä½œç”¨äºæ–¹æ³•ï¼Œé€šå¸¸æ˜¯æˆ‘ä»¬åœ¨æ ‡æœ‰è¯¥æ³¨è§£çš„æ–¹æ³•ä¸­å®šä¹‰äº§ç”Ÿè¿™ä¸ª bean</li>
</ul>
<h2 id="Qualifier"><a href="#Qualifier" class="headerlink" title="@ Qualifier"></a>@ Qualifier</h2><p>å½“æ‚¨åˆ›å»ºå¤šä¸ªç›¸åŒç±»å‹çš„ bean å¹¶å¸Œæœ›ä»…ä½¿ç”¨å±æ€§è£…é…å…¶ä¸­ä¸€ä¸ª bean æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨@Qualifier æ³¨è§£<br>å’Œ @Autowired é€šè¿‡æŒ‡å®šåº”è¯¥è£…é…å“ªä¸ªç¡®åˆ‡çš„ beanæ¥æ¶ˆé™¤æ­§ä¹‰ã€‚</p>
<h2 id="RestController"><a href="#RestController" class="headerlink" title="@RestController"></a>@RestController</h2><p>@RestControlleræ³¨è§£æ˜¯@Controllerå’Œ@ResponseBodyçš„åˆé›†,è¡¨ç¤ºè¿™æ˜¯ä¸ªæ§åˆ¶å™¨ bean,å¹¶ä¸”æ˜¯å°†å‡½æ•°çš„è¿”å›å€¼ç›´ æ¥å¡«å…¥ HTTP å“åº”ä½“ä¸­,æ˜¯ REST é£æ ¼çš„æ§åˆ¶å™¨ã€‚</p>
<h2 id="Scope"><a href="#Scope" class="headerlink" title="@Scope"></a>@Scope</h2><p>å£°æ˜ Spring Bean çš„ä½œç”¨åŸŸï¼Œä½¿ç”¨æ–¹æ³•:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@Scope(&quot;singleton&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Person <span class="title">personSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Person();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å››ç§å¸¸è§çš„ Spring Bean çš„ä½œç”¨åŸŸï¼š</p>
<ul>
<li>singleton : å”¯ä¸€ bean å®ä¾‹ï¼ŒSpring ä¸­çš„ bean é»˜è®¤éƒ½æ˜¯å•ä¾‹çš„ã€‚</li>
<li>prototype : æ¯æ¬¡è¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ bean å®ä¾‹ã€‚</li>
<li>request : æ¯ä¸€æ¬¡ HTTP è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ beanï¼Œè¯¥ bean ä»…åœ¨å½“å‰ HTTP request å†…æœ‰æ•ˆã€‚</li>
<li>session : æ¯ä¸€æ¬¡ HTTP è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ beanï¼Œè¯¥ bean ä»…åœ¨å½“å‰ HTTP session å†…æœ‰æ•ˆã€‚</li>
</ul>
<h2 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ä¸€èˆ¬ç”¨æ¥å£°æ˜é…ç½®ç±»ï¼Œå¯ä»¥ä½¿ç”¨ <span class="meta">@Component</span>æ³¨è§£æ›¿ä»£ï¼Œä¸è¿‡ä½¿ç”¨<span class="meta">@Configuration</span>æ³¨è§£å£°æ˜é…ç½®ç±»æ›´åŠ è¯­ä¹‰åŒ–ã€‚</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TransferService <span class="title">transferService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TransferServiceImpl();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å‰åç«¯ä¼ å€¼"><a href="#å‰åç«¯ä¼ å€¼" class="headerlink" title="å‰åç«¯ä¼ å€¼"></a>å‰åç«¯ä¼ å€¼</h1><h2 id="PathVariable-å’Œ-RequestParam"><a href="#PathVariable-å’Œ-RequestParam" class="headerlink" title="@PathVariable å’Œ @RequestParam"></a>@PathVariable å’Œ @RequestParam</h2><p>@PathVariableç”¨äºè·å–è·¯å¾„å‚æ•°ï¼Œ@RequestParamç”¨äºè·å–æŸ¥è¯¢å‚æ•°ã€‚</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/klasses/&#123;klassId&#125;/teachers&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Teacher&gt; <span class="title">getKlassRelatedTeachers</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">         <span class="meta">@PathVariable(&quot;klassId&quot;)</span> Long klassId,</span></span></span><br><span class="line"><span class="function"><span class="params">         <span class="meta">@RequestParam(value = &quot;type&quot;, required = false)</span> String type )</span> </span>&#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬è¯·æ±‚çš„ url æ˜¯ï¼š<code>/klasses/&#123;123456&#125;/teachers?type=web</code></p>
<p>é‚£ä¹ˆæˆ‘ä»¬æœåŠ¡è·å–åˆ°çš„æ•°æ®å°±æ˜¯ï¼šklassId=123456,type=webã€‚</p>
<h2 id="RequestBody"><a href="#RequestBody" class="headerlink" title="@RequestBody"></a>@RequestBody</h2><p>ç”¨äºè¯»å– Request è¯·æ±‚ï¼ˆå¯èƒ½æ˜¯ POST,PUT,DELETE,GET è¯·æ±‚ï¼‰çš„ body éƒ¨åˆ†å¹¶ä¸”Content-Type ä¸º application/json æ ¼å¼çš„æ•°æ®ï¼Œæ¥æ”¶åˆ°æ•°æ®ä¹‹åä¼šè‡ªåŠ¨å°†æ•°æ®ç»‘å®šåˆ° Java å¯¹è±¡ä¸Šå»ã€‚ç³»ç»Ÿä¼šä½¿ç”¨HttpMessageConverteræˆ–è€…è‡ªå®šä¹‰çš„HttpMessageConverterå°†è¯·æ±‚çš„ body ä¸­çš„ json å­—ç¬¦ä¸²è½¬æ¢ä¸º java å¯¹è±¡ã€‚</p>
<p>æˆ‘ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥ç»™æ¼”ç¤ºä¸€ä¸‹åŸºæœ¬ä½¿ç”¨ï¼</p>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªæ³¨å†Œçš„æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/sign-up&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ResponseEntity <span class="title">signUp</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Valid</span> UserRegisterRequest userRegisterRequest)</span> </span>&#123;</span><br><span class="line">  userService.save(userRegisterRequest);</span><br><span class="line">  <span class="keyword">return</span> ResponseEntity.ok().build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>UserRegisterRequestå¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRegisterRequest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotBlank</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@NotBlank</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="meta">@NotBlank</span></span><br><span class="line">    <span class="keyword">private</span> String fullName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å‘é€ post è¯·æ±‚åˆ°è¿™ä¸ªæ¥å£ï¼Œå¹¶ä¸” body æºå¸¦ JSON æ•°æ®ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;userName&quot;</span>:<span class="string">&quot;coder&quot;</span>,<span class="attr">&quot;fullName&quot;</span>:<span class="string">&quot;shuangkou&quot;</span>,<span class="attr">&quot;password&quot;</span>:<span class="string">&quot;123456&quot;</span>&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æˆ‘ä»¬çš„åç«¯å°±å¯ä»¥ç›´æ¥æŠŠ json æ ¼å¼çš„æ•°æ®æ˜ å°„åˆ°æˆ‘ä»¬çš„ UserRegisterRequest ç±»ä¸Šã€‚</p>
<p>ğŸ‘‰ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<strong>ä¸€ä¸ªè¯·æ±‚æ–¹æ³•åªå¯ä»¥æœ‰ä¸€ä¸ª@RequestBodyï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ª@RequestParamå’Œ@PathVariable</strong>ã€‚ å¦‚æœä½ çš„æ–¹æ³•å¿…é¡»è¦ç”¨ä¸¤ä¸ª @RequestBodyæ¥æ¥å—æ•°æ®çš„è¯ï¼Œå¤§æ¦‚ç‡æ˜¯ä½ çš„æ•°æ®åº“è®¾è®¡æˆ–è€…ç³»ç»Ÿè®¾è®¡å‡ºé—®é¢˜äº†ï¼</p>
<h1 id="è¯»å–é…ç½®ä¿¡æ¯"><a href="#è¯»å–é…ç½®ä¿¡æ¯" class="headerlink" title="è¯»å–é…ç½®ä¿¡æ¯"></a>è¯»å–é…ç½®ä¿¡æ¯</h1><p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦å°†ä¸€äº›å¸¸ç”¨çš„é…ç½®ä¿¡æ¯æ¯”å¦‚é˜¿é‡Œäº‘ ossã€å‘é€çŸ­ä¿¡ã€å¾®ä¿¡è®¤è¯çš„ç›¸å…³é…ç½®ä¿¡æ¯ç­‰ç­‰æ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ Spring ä¸ºæˆ‘ä»¬æä¾›äº†å“ªäº›æ–¹å¼å¸®åŠ©æˆ‘ä»¬ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–è¿™äº›é…ç½®ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬çš„æ•°æ®æºapplication.ymlå†…å®¹å¦‚ä¸‹ï¼šï¼š</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wuhan2020:</span> <span class="number">2020</span><span class="string">å¹´åˆæ­¦æ±‰çˆ†å‘äº†æ–°å‹å† çŠ¶ç—…æ¯’ï¼Œç–«æƒ…ä¸¥é‡ï¼Œä½†æ˜¯ï¼Œæˆ‘ç›¸ä¿¡ä¸€åˆ‡éƒ½ä¼šè¿‡å»ï¼æ­¦æ±‰åŠ æ²¹ï¼ä¸­å›½åŠ æ²¹ï¼</span></span><br><span class="line"></span><br><span class="line"><span class="attr">my-profile:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">Guideå“¥</span></span><br><span class="line">  <span class="attr">email:</span> <span class="string">koushuangbwcx@163.com</span></span><br><span class="line"></span><br><span class="line"><span class="attr">library:</span></span><br><span class="line">  <span class="attr">location:</span> <span class="string">æ¹–åŒ—æ­¦æ±‰åŠ æ²¹ä¸­å›½åŠ æ²¹</span></span><br><span class="line">  <span class="attr">books:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å¤©æ‰åŸºæœ¬æ³•</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">äºŒåäºŒå²çš„æ—æœå¤•åœ¨çˆ¶äº²ç¡®è¯Šé˜¿å°”èŒ¨æµ·é»˜ç—…è¿™å¤©ï¼Œå¾—çŸ¥è‡ªå·±æš—æ‹å¤šå¹´çš„æ ¡å›­ç”·ç¥è£´ä¹‹å³å°†å‡ºå›½æ·±é€ çš„æ¶ˆæ¯â€”â€”å¯¹æ–¹è€ƒå–çš„å­¦æ ¡ï¼Œæ°æ˜¯çˆ¶äº²å½“å¹´ä¸ºå¥¹æ”¾å¼ƒçš„é‚£æ‰€ã€‚</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">æ—¶é—´çš„ç§©åº</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">ä¸ºä»€ä¹ˆæˆ‘ä»¬è®°å¾—è¿‡å»ï¼Œè€Œéæœªæ¥ï¼Ÿæ—¶é—´â€œæµé€â€æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ˜¯æˆ‘ä»¬å­˜åœ¨äºæ—¶é—´ä¹‹å†…ï¼Œè¿˜æ˜¯æ—¶é—´å­˜åœ¨äºæˆ‘ä»¬ä¹‹ä¸­ï¼Ÿå¡æ´›Â·ç½—éŸ¦åˆ©ç”¨è¯—æ„çš„æ–‡å­—ï¼Œé‚€è¯·æˆ‘ä»¬æ€è€ƒè¿™ä¸€äº˜å¤éš¾é¢˜â€”â€”æ—¶é—´çš„æœ¬è´¨ã€‚</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">äº†ä¸èµ·çš„æˆ‘</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">å¦‚ä½•å…»æˆä¸€ä¸ªæ–°ä¹ æƒ¯ï¼Ÿå¦‚ä½•è®©å¿ƒæ™ºå˜å¾—æ›´æˆç†Ÿï¼Ÿå¦‚ä½•æ‹¥æœ‰é«˜è´¨é‡çš„å…³ç³»ï¼Ÿ</span> <span class="string">å¦‚ä½•èµ°å‡ºäººç”Ÿçš„è‰°éš¾æ—¶åˆ»ï¼Ÿ</span></span><br></pre></td></tr></table></figure>
<p>5.1. @value(å¸¸ç”¨)</p>
<p>ä½¿ç”¨ @Value(â€œ${property}â€) è¯»å–æ¯”è¾ƒç®€å•çš„é…ç½®ä¿¡æ¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;$&#123;wuhan2020&#125;&quot;)</span></span><br><span class="line">String wuhan2020;</span><br></pre></td></tr></table></figure>
<p>5.2. @ConfigurationProperties(å¸¸ç”¨)</p>
<p>é€šè¿‡@ConfigurationPropertiesè¯»å–é…ç½®ä¿¡æ¯å¹¶ä¸ bean ç»‘å®šã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;library&quot;)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LibraryProperties</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotEmpty</span></span><br><span class="line">    <span class="keyword">private</span> String location;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Book&gt; books;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Setter</span></span><br><span class="line">    <span class="meta">@Getter</span></span><br><span class="line">    <span class="meta">@ToString</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">        String name;</span><br><span class="line">        String description;</span><br><span class="line">    &#125;</span><br><span class="line">  çœç•¥getter/setter</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥åƒä½¿ç”¨æ™®é€šçš„ Spring bean ä¸€æ ·ï¼Œå°†å…¶æ³¨å…¥åˆ°ç±»ä¸­ä½¿ç”¨ã€‚<br>5.3. PropertySourceï¼ˆä¸å¸¸ç”¨ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PropertySource</span>è¯»å–æŒ‡å®š properties æ–‡ä»¶</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:website.properties&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WebSite</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line"></span><br><span class="line">  çœç•¥getter/setter</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å‚æ•°æ ¡éªŒ"><a href="#å‚æ•°æ ¡éªŒ" class="headerlink" title="å‚æ•°æ ¡éªŒ"></a>å‚æ•°æ ¡éªŒ</h1><h2 id="ä¸€äº›å¸¸ç”¨çš„å­—æ®µéªŒè¯çš„æ³¨è§£"><a href="#ä¸€äº›å¸¸ç”¨çš„å­—æ®µéªŒè¯çš„æ³¨è§£" class="headerlink" title="ä¸€äº›å¸¸ç”¨çš„å­—æ®µéªŒè¯çš„æ³¨è§£"></a>ä¸€äº›å¸¸ç”¨çš„å­—æ®µéªŒè¯çš„æ³¨è§£</h2><ul>
<li>@NotEmpty è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²çš„ä¸èƒ½ä¸º null ä¹Ÿä¸èƒ½ä¸ºç©º</li>
<li>@NotBlank è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²é nullï¼Œå¹¶ä¸”å¿…é¡»åŒ…å«ä¸€ä¸ªéç©ºç™½å­—ç¬¦</li>
<li>@Null è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º null</li>
<li>@NotNull è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸ä¸º null</li>
<li>@AssertTrue è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º true</li>
<li>@AssertFalse è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º false</li>
<li>@Pattern(regex=,flag=)è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼</li>
<li>@Email è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ Email æ ¼å¼ã€‚</li>
<li>@Min(value)è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼</li>
<li>@Max(value)è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼</li>
<li>@DecimalMin(value)è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼</li>
<li>@DecimalMax(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼</li>
<li>@Size(max=, min=)è¢«æ³¨é‡Šçš„å…ƒç´ çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…</li>
<li>@Digits (integer, fraction)è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»åœ¨å¯æ¥å—çš„èŒƒå›´å†…</li>
<li>@Pastè¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸ</li>
<li>@Future è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ<br>â€¦â€¦</li>
</ul>
<h2 id="éªŒè¯è¯·æ±‚ä½“-RequestBody"><a href="#éªŒè¯è¯·æ±‚ä½“-RequestBody" class="headerlink" title="éªŒè¯è¯·æ±‚ä½“(RequestBody)"></a>éªŒè¯è¯·æ±‚ä½“(RequestBody)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;classId ä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String classId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Size(max = 33)</span></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;name ä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pattern(regexp = &quot;((^Man$|^Woman$|^UGM$))&quot;, message = &quot;sex å€¼ä¸åœ¨å¯é€‰èŒƒå›´&quot;)</span></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;sex ä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Email(message = &quot;email æ ¼å¼ä¸æ­£ç¡®&quot;)</span></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;email ä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åœ¨éœ€è¦éªŒè¯çš„å‚æ•°ä¸ŠåŠ ä¸Šäº†@Validæ³¨è§£ï¼Œå¦‚æœéªŒè¯å¤±è´¥ï¼Œå®ƒå°†æŠ›å‡ºMethodArgumentNotValidExceptionã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/person&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;Person&gt; <span class="title">getPerson</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Valid</span> Person person)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().body(person);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="éªŒè¯è¯·æ±‚å‚æ•°-Path-Variables-å’Œ-Request-Parameters"><a href="#éªŒè¯è¯·æ±‚å‚æ•°-Path-Variables-å’Œ-Request-Parameters" class="headerlink" title="éªŒè¯è¯·æ±‚å‚æ•°(Path Variables å’Œ Request Parameters)"></a>éªŒè¯è¯·æ±‚å‚æ•°(Path Variables å’Œ Request Parameters)</h2><p>ä¸€å®šä¸€å®šä¸è¦å¿˜è®°åœ¨ç±»ä¸ŠåŠ ä¸Š Validated æ³¨è§£äº†ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥å‘Šè¯‰ Spring å»æ ¡éªŒæ–¹æ³•å‚æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api&quot;)</span></span><br><span class="line"><span class="meta">@Validated</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/person/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;Integer&gt; <span class="title">getPersonByID</span><span class="params">(<span class="meta">@Valid</span> <span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="meta">@Max(value = 5,message = &quot;è¶…è¿‡ id çš„èŒƒå›´äº†&quot;)</span> Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().body(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å…¨å±€å¤„ç†-Controller-å±‚å¼‚å¸¸"><a href="#å…¨å±€å¤„ç†-Controller-å±‚å¼‚å¸¸" class="headerlink" title="å…¨å±€å¤„ç† Controller å±‚å¼‚å¸¸"></a>å…¨å±€å¤„ç† Controller å±‚å¼‚å¸¸</h1><p>ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬ Spring é¡¹ç›®å¿…å¤‡çš„å…¨å±€å¤„ç† Controller å±‚å¼‚å¸¸ã€‚</p>
<p>ç›¸å…³æ³¨è§£ï¼š</p>
<ul>
<li>@ControllerAdvice :æ³¨è§£å®šä¹‰å…¨å±€å¼‚å¸¸å¤„ç†ç±»</li>
<li>@ExceptionHandler :æ³¨è§£å£°æ˜å¼‚å¸¸å¤„ç†æ–¹æ³•</li>
</ul>
<p>å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿæ‹¿æˆ‘ä»¬åœ¨ç¬¬ 5 èŠ‚å‚æ•°æ ¡éªŒè¿™å—æ¥ä¸¾ä¾‹å­ã€‚å¦‚æœæ–¹æ³•å‚æ•°ä¸å¯¹çš„è¯å°±ä¼šæŠ›å‡ºMethodArgumentNotValidExceptionï¼Œæˆ‘ä»¬æ¥å¤„ç†è¿™ä¸ªå¼‚å¸¸ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯·æ±‚å‚æ•°å¼‚å¸¸å¤„ç†</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(MethodArgumentNotValidException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;?&gt; handleMethodArgumentNotValidException(MethodArgumentNotValidException ex, HttpServletRequest request) &#123;</span><br><span class="line">       ......</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="äº‹åŠ¡-Transactional"><a href="#äº‹åŠ¡-Transactional" class="headerlink" title="äº‹åŠ¡ @Transactional"></a>äº‹åŠ¡ @Transactional</h1><p>åœ¨è¦å¼€å¯äº‹åŠ¡çš„æ–¹æ³•ä¸Šä½¿ç”¨<code>@Transactional</code>æ³¨è§£å³å¯!</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(rollbackFor = Exception.class)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çŸ¥é“ Exception åˆ†ä¸ºè¿è¡Œæ—¶å¼‚å¸¸ <code>RuntimeException</code> å’Œéè¿è¡Œæ—¶å¼‚å¸¸ã€‚åœ¨<code>@Transactional</code>æ³¨è§£ä¸­å¦‚æœä¸é…ç½®<code>rollbackFor</code>å±æ€§,é‚£ä¹ˆäº‹ç‰©åªä¼šåœ¨é‡åˆ°<code>RuntimeException</code>çš„æ—¶å€™æ‰ä¼šå›æ»š,åŠ ä¸Š<code>rollbackFor=Exception.class</code>,å¯ä»¥è®©äº‹ç‰©åœ¨é‡åˆ°éè¿è¡Œæ—¶å¼‚å¸¸æ—¶ä¹Ÿå›æ»šã€‚</p>
<p><code>@Transactional</code> æ³¨è§£ä¸€èˆ¬ç”¨åœ¨å¯ä»¥ä½œç”¨åœ¨ç±»æˆ–è€…æ–¹æ³•ä¸Šã€‚</p>
<ul>
<li>ä½œç”¨äºç±»ï¼šå½“æŠŠ@Transactional æ³¨è§£æ”¾åœ¨ç±»ä¸Šæ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰è¯¥ç±»çš„public æ–¹æ³•éƒ½é…ç½®ç›¸åŒçš„äº‹åŠ¡å±æ€§ä¿¡æ¯ã€‚</li>
<li>ä½œç”¨äºæ–¹æ³•ï¼šå½“ç±»é…ç½®äº†@Transactionalï¼Œæ–¹æ³•ä¹Ÿé…ç½®äº†@Transactionalï¼Œæ–¹æ³•çš„äº‹åŠ¡ä¼šè¦†ç›–ç±»çš„äº‹åŠ¡é…ç½®ä¿¡æ¯ã€‚</li>
</ul>
<h1 id="json-æ•°æ®å¤„ç†"><a href="#json-æ•°æ®å¤„ç†" class="headerlink" title="json æ•°æ®å¤„ç†"></a>json æ•°æ®å¤„ç†</h1><h2 id="è¿‡æ»¤-json-æ•°æ®"><a href="#è¿‡æ»¤-json-æ•°æ®" class="headerlink" title="è¿‡æ»¤ json æ•°æ®"></a>è¿‡æ»¤ json æ•°æ®</h2><p><code>@JsonIgnoreProperties</code> ä½œç”¨åœ¨ç±»ä¸Šç”¨äºè¿‡æ»¤æ‰ç‰¹å®šå­—æ®µä¸è¿”å›æˆ–è€…ä¸è§£æã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”Ÿæˆjsonæ—¶å°†userRoleså±æ€§è¿‡æ»¤</span></span><br><span class="line"><span class="meta">@JsonIgnoreProperties(&#123;&quot;userRoles&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> String fullName;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="meta">@JsonIgnore</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;UserRole&gt; userRoles = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@JsonIgnore</code>ä¸€èˆ¬ç”¨äºç±»çš„å±æ€§ä¸Šï¼Œä½œç”¨å’Œä¸Šé¢<code>çš„@JsonIgnoreProperties</code> ä¸€æ ·ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> String fullName;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">   <span class="comment">//ç”Ÿæˆjsonæ—¶å°†userRoleså±æ€§è¿‡æ»¤</span></span><br><span class="line">    <span class="meta">@JsonIgnore</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;UserRole&gt; userRoles = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ ¼å¼åŒ–-json-æ•°æ®"><a href="#æ ¼å¼åŒ–-json-æ•°æ®" class="headerlink" title="æ ¼å¼åŒ– json æ•°æ®"></a>æ ¼å¼åŒ– json æ•°æ®</h2><p><code>@JsonFormat</code>ä¸€èˆ¬ç”¨æ¥æ ¼å¼åŒ– <code>json </code>æ•°æ®ã€‚ï¼š</p>
<p>æ¯”å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&#x27;T&#x27;HH:mm:ss.SSS&#x27;Z&#x27;&quot;, timezone=&quot;GMT&quot;)</span></span><br><span class="line"><span class="keyword">private</span> Date date;</span><br></pre></td></tr></table></figure>
<h2 id="æ‰å¹³åŒ–å¯¹è±¡"><a href="#æ‰å¹³åŒ–å¯¹è±¡" class="headerlink" title="æ‰å¹³åŒ–å¯¹è±¡"></a>æ‰å¹³åŒ–å¯¹è±¡</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JsonUnwrapped</span></span><br><span class="line">    <span class="keyword">private</span> Location location;</span><br><span class="line">    <span class="meta">@JsonUnwrapped</span></span><br><span class="line">    <span class="keyword">private</span> PersonInfo personInfo;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Getter</span></span><br><span class="line">  <span class="meta">@Setter</span></span><br><span class="line">  <span class="meta">@ToString</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Location</span> </span>&#123;</span><br><span class="line">     <span class="keyword">private</span> String provinceName;</span><br><span class="line">     <span class="keyword">private</span> String countyName;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Getter</span></span><br><span class="line">  <span class="meta">@Setter</span></span><br><span class="line">  <span class="meta">@ToString</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonInfo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> String fullName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœªæ‰å¹³åŒ–ä¹‹å‰ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;location&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;provinceName&quot;</span>:<span class="string">&quot;æ¹–åŒ—&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;countyName&quot;</span>:<span class="string">&quot;æ­¦æ±‰&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;personInfo&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;userName&quot;</span>: <span class="string">&quot;coder1234&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;fullName&quot;</span>: <span class="string">&quot;shaungkou&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨@JsonUnwrapped æ‰å¹³å¯¹è±¡ä¹‹åï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JsonUnwrapped</span></span><br><span class="line">    <span class="keyword">private</span> Location location;</span><br><span class="line">    <span class="meta">@JsonUnwrapped</span></span><br><span class="line">    <span class="keyword">private</span> PersonInfo personInfo;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;provinceName&quot;</span>:<span class="string">&quot;æ¹–åŒ—&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;countyName&quot;</span>:<span class="string">&quot;æ­¦æ±‰&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;userName&quot;</span>: <span class="string">&quot;coder1234&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;fullName&quot;</span>: <span class="string">&quot;shaungkou&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æµ‹è¯•ç›¸å…³"><a href="#æµ‹è¯•ç›¸å…³" class="headerlink" title="æµ‹è¯•ç›¸å…³"></a>æµ‹è¯•ç›¸å…³</h2><p><code>@ActiveProfiles</code>ä¸€èˆ¬ä½œç”¨äºæµ‹è¯•ç±»ä¸Šï¼Œ ç”¨äºå£°æ˜ç”Ÿæ•ˆçš„ Spring é…ç½®æ–‡ä»¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest(webEnvironment = RANDOM_PORT)</span></span><br><span class="line"><span class="meta">@ActiveProfiles(&quot;test&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">TestBase</span> </span>&#123;</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@Test</code>å£°æ˜ä¸€ä¸ªæ–¹æ³•ä¸ºæµ‹è¯•æ–¹æ³•</p>
<p><code>@Transactional</code>è¢«å£°æ˜çš„æµ‹è¯•æ–¹æ³•çš„æ•°æ®ä¼šå›æ»šï¼Œé¿å…æ±¡æŸ“æµ‹è¯•æ•°æ®ã€‚</p>
<p><code>@WithMockUser</code> Spring Security æä¾›çš„ï¼Œç”¨æ¥æ¨¡æ‹Ÿä¸€ä¸ªçœŸå®ç”¨æˆ·ï¼Œå¹¶ä¸”å¯ä»¥èµ‹äºˆæƒé™ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@WithMockUser(username = &quot;user-id-18163138155&quot;, authorities = &quot;ROLE_TEACHER&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">should_import_student_success</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£"><a href="#åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£"></a>åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Description</span>:    javaç±»ä½œç”¨æè¿°</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Author</span>:         Nexus</span></span><br><span class="line"><span class="comment">* <span class="doctag">@CreateDate</span>:     2021/4/24 2:06</span></span><br><span class="line"><span class="comment">* <span class="doctag">@UpdateUser</span>:     Nexus</span></span><br><span class="line"><span class="comment">* <span class="doctag">@UpdateDate</span>:     2021/4/24 2:06</span></span><br><span class="line"><span class="comment">* <span class="doctag">@UpdateRemark</span>:   ä¿®æ”¹å†…å®¹</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Version</span>:        1.0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> demoanno &#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> <span class="keyword">default</span> 0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">flag</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">true</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">str</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Target-æ³¨è§£çš„ä½œç”¨ç›®æ ‡"><a href="#Target-æ³¨è§£çš„ä½œç”¨ç›®æ ‡" class="headerlink" title="@Target:æ³¨è§£çš„ä½œç”¨ç›®æ ‡"></a><code>@Target</code>:æ³¨è§£çš„ä½œç”¨ç›®æ ‡</h2><ul>
<li><code>@Target(ElementType.TYPE)</code>â€”â€”æ¥å£ã€ç±»ã€æšä¸¾ã€æ³¨è§£</li>
<li><code>@Target(ElementType.FIELD)</code>â€”â€”å­—æ®µã€æšä¸¾çš„å¸¸é‡</li>
<li><code>@Target(ElementType.PARAMETER)</code>â€”â€”æ–¹æ³•å‚æ•°</li>
<li><code>@Target(ElementType.CONSTRUCTOR)</code> â€”â€”æ„é€ å‡½æ•°</li>
<li><code>@Target(ElementType.LOCAL_VARIABLE)</code>â€”â€”å±€éƒ¨å˜é‡</li>
<li><code>@Target(ElementType.ANNOTATION_TYPE)</code>â€”â€”æ³¨è§£</li>
<li><code>@Target(ElementType.PACKAGE)</code>â€”â€”åŒ…</li>
</ul>
<h2 id="Retentionï¼šæ³¨è§£çš„ä¿ç•™ä½ç½®"><a href="#Retentionï¼šæ³¨è§£çš„ä¿ç•™ä½ç½®" class="headerlink" title="@Retentionï¼šæ³¨è§£çš„ä¿ç•™ä½ç½®"></a><code>@Retention</code>ï¼šæ³¨è§£çš„ä¿ç•™ä½ç½®</h2><p><code>RetentionPolicy.SOURCE</code>:è¿™ç§ç±»å‹çš„Annotationsåªåœ¨æºä»£ç çº§åˆ«ä¿ç•™,ç¼–è¯‘æ—¶å°±ä¼šè¢«å¿½ç•¥,åœ¨classå­—èŠ‚ç æ–‡ä»¶ä¸­ä¸åŒ…å«ã€‚<br><code>RetentionPolicy.CLASS</code>:è¿™ç§ç±»å‹çš„Annotationsç¼–è¯‘æ—¶è¢«ä¿ç•™,é»˜è®¤çš„ä¿ç•™ç­–ç•¥,åœ¨classæ–‡ä»¶ä¸­å­˜åœ¨,ä½†JVMå°†ä¼šå¿½ç•¥,è¿è¡Œæ—¶æ— æ³•è·å¾—ã€‚<br><code>RetentionPolicy.RUNTIME</code>:è¿™ç§ç±»å‹çš„Annotationså°†è¢«JVMä¿ç•™,æ‰€ä»¥ä»–ä»¬èƒ½åœ¨è¿è¡Œæ—¶è¢«JVMæˆ–å…¶ä»–ä½¿ç”¨åå°„æœºåˆ¶çš„ä»£ç æ‰€è¯»å–å’Œä½¿ç”¨ã€‚</p>
<h2 id="Document-Inherited"><a href="#Document-Inherited" class="headerlink" title="@Document,@Inherited"></a><code>@Document</code>,<code>@Inherited</code></h2><p>@Documentï¼šè¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨javadocä¸­<br>@Inheritedï¼šè¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£</p>
<h2 id="åˆ›å»ºåˆ‡é¢"><a href="#åˆ›å»ºåˆ‡é¢" class="headerlink" title="åˆ›å»ºåˆ‡é¢"></a>åˆ›å»ºåˆ‡é¢</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">joinPoint.getSignature().getName(); <span class="comment">// è·å–ç›®æ ‡æ–¹æ³•å</span></span><br><span class="line">joinPoint.getSignature().getDeclaringType().getSimpleName(); <span class="comment">// è·å–ç›®æ ‡æ–¹æ³•æ‰€å±ç±»çš„ç®€å•ç±»å</span></span><br><span class="line">joinPoint.getSignature().getDeclaringTypeName(); <span class="comment">// è·å–ç›®æ ‡æ–¹æ³•æ‰€å±ç±»çš„ç±»å</span></span><br><span class="line">joinPoint.getSignature().getModifiers(); <span class="comment">// è·å–ç›®æ ‡æ–¹æ³•å£°æ˜ç±»å‹(publicã€privateã€protected)</span></span><br><span class="line"></span><br><span class="line">Object[] args = joinPoint.getArgs(); <span class="comment">// è·å–ä¼ å…¥ç›®æ ‡æ–¹æ³•çš„å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">joinPoint.getTarget(); <span class="comment">// è·å–è¢«ä»£ç†çš„å¯¹è±¡</span></span><br><span class="line">joinPoint.getThis(); <span class="comment">// è·å–ä»£ç†å¯¹è±¡è‡ªå·±</span></span><br><span class="line">	</span><br><span class="line"><span class="comment">// è·å–ç›®æ ‡æ–¹æ³•ä¸Šçš„æ³¨è§£</span></span><br><span class="line">MethodSignature methodSignature = (MethodSignature) joinPoint.getSignature();</span><br><span class="line">Method method = methodSignature.getMethod();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>ç®€å•ä¾‹å­</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoAspect</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†è‡ªå·±è‡ªå®šä¹‰æ³¨è§£ä½œä¸ºåˆ‡ç‚¹çš„æ ¹æ®</span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;@annotation(org.example.annotation.DemoAnno)&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cut</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;into cut()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åœ¨ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œå³åœ¨è¿æ¥ç‚¹ä¹‹å‰è¿›è¡Œæ‰§è¡Œã€‚ </span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="meta">@Before(&quot;cut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">(JoinPoint joinPoint)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;=================before start=====================&quot;</span>);</span><br><span class="line">        MethodSignature signature = (MethodSignature) joinPoint.getSignature();</span><br><span class="line">        Object[] args = joinPoint.getArgs();</span><br><span class="line">        Object target = joinPoint.getTarget();</span><br><span class="line">        Method method = signature.getMethod();</span><br><span class="line">        String name = signature.getName();</span><br><span class="line">        String[] parameterNames = signature.getParameterNames();</span><br><span class="line"></span><br><span class="line">        Class[] parameterTypes = signature.getParameterTypes();</span><br><span class="line">        Class returnType = signature.getReturnType();</span><br><span class="line"></span><br><span class="line">        DemoAnno annotation = method.getAnnotation(DemoAnno.class);</span><br><span class="line">        <span class="keyword">int</span> count = annotation.count();</span><br><span class="line">        <span class="keyword">boolean</span> flag = annotation.flag();</span><br><span class="line">        log.info(<span class="string">&quot;=================before end=====================&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åç½®æ–¹æ³•åœ¨è¿æ¥ç‚¹æ–¹æ³•å®Œæˆä¹‹åæ‰§è¡Œï¼Œæ— è®ºè¿æ¥ç‚¹æ–¹æ³•æ‰§è¡ŒæˆåŠŸè¿˜æ˜¯å‡ºç°å¼‚å¸¸ï¼Œéƒ½å°†æ‰§è¡Œåç½®æ–¹æ³•</span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="meta">@After(&quot;cut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">(JoinPoint joinPoint)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;=================after start=====================&quot;</span>);</span><br><span class="line">        log.info(<span class="string">&quot;=================after end=====================&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¼‚å¸¸é€šçŸ¥æ–¹æ³•åªåœ¨è¿æ¥ç‚¹æ–¹æ³•å‡ºç°å¼‚å¸¸åæ‰ä¼šæ‰§è¡Œï¼Œå¦åˆ™ä¸æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="meta">@AfterThrowing(value = &quot;cut()&quot;,throwing = &quot;e&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowing</span><span class="params">(JoinPoint joinPoint,Exception e)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;=================after start=====================&quot;</span>);</span><br><span class="line">        log.info(<span class="string">&quot;=================after end=====================&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç¯ç»•é€šçŸ¥æ–¹æ³•å¯ä»¥åŒ…å«ä¸Šé¢å››ç§é€šçŸ¥æ–¹æ³•ï¼Œç¯ç»•é€šçŸ¥çš„åŠŸèƒ½æœ€å…¨é¢ã€‚</span></span><br><span class="line"><span class="comment">     * ç¯ç»•é€šçŸ¥éœ€è¦æºå¸¦ ProceedingJoinPoint ç±»å‹çš„å‚æ•°ï¼Œä¸”ç¯ç»•é€šçŸ¥å¿…é¡»æœ‰è¿”å›å€¼,</span></span><br><span class="line"><span class="comment">     * è¿”å›å€¼å³ä¸ºç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼</span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="meta">@Around(&quot;cut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">around</span><span class="params">(ProceedingJoinPoint joinPoint)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*resultä¸ºè¿æ¥ç‚¹çš„æ”¾å›ç»“æœ*/</span></span><br><span class="line">        Object result = <span class="keyword">null</span>;</span><br><span class="line">        String methodName = joinPoint.getSignature().getName();</span><br><span class="line">        <span class="comment">/*å‰ç½®é€šçŸ¥æ–¹æ³•*/</span></span><br><span class="line">        log.info(<span class="string">&quot;å‰ç½®é€šçŸ¥æ–¹æ³•&gt;ç›®æ ‡æ–¹æ³•åï¼š&#123;&#125;,å‚æ•°ä¸ºï¼š&#123;&#125;&quot;</span>,methodName, Arrays.asList(joinPoint.getArgs()));</span><br><span class="line">        <span class="comment">/*æ‰§è¡Œç›®æ ‡æ–¹æ³•*/</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            result = joinPoint.proceed();</span><br><span class="line"></span><br><span class="line">            <span class="comment">/*è¿”å›é€šçŸ¥æ–¹æ³•*/</span></span><br><span class="line">            log.info(<span class="string">&quot;è¿”å›é€šçŸ¥æ–¹æ³•&gt;ç›®æ ‡æ–¹æ³•åï¼š&#123;&#125;,è¿”å›ç»“æœä¸ºï¼š&#123;&#125;&quot;</span> , methodName,result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            <span class="comment">/*å¼‚å¸¸é€šçŸ¥æ–¹æ³•*/</span></span><br><span class="line">            log.info(<span class="string">&quot;å¼‚å¸¸é€šçŸ¥æ–¹æ³•&gt;ç›®æ ‡æ–¹æ³•åï¼š&#123;&#125;,å¼‚å¸¸ä¸ºï¼š&#123;&#125;&quot;</span> , methodName,e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*åç½®é€šçŸ¥*/</span></span><br><span class="line">        log.info(<span class="string">&quot;åç½®é€šçŸ¥æ–¹æ³•&gt;ç›®æ ‡æ–¹æ³•åï¼š&#123;&#125;&quot;</span>, methodName);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="SpringCloudç›¸å…³æ³¨è§£"><a href="#SpringCloudç›¸å…³æ³¨è§£" class="headerlink" title="SpringCloudç›¸å…³æ³¨è§£"></a>SpringCloudç›¸å…³æ³¨è§£</h1><h2 id="EnableConfigurationPropertiesæ³¨è§£"><a href="#EnableConfigurationPropertiesæ³¨è§£" class="headerlink" title="@EnableConfigurationPropertiesæ³¨è§£"></a>@EnableConfigurationPropertiesæ³¨è§£</h2><p>@EnableConfigurationPropertiesæ³¨è§£åœ¨Starterå®šä¹‰æ—¶ä¸»è¦ç”¨äºè¯»å–application.ymlé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„å±æ€§ï¼Œå¹¶å°è£…åˆ°æŒ‡å®šç±»å‹çš„å®ä¾‹ä¸­ï¼Œä»¥å¤‡Starterä¸­çš„æ ¸å¿ƒä¸šåŠ¡å®ä¾‹ä½¿ç”¨ã€‚</p>
<h2 id="ConditionalOnMissingBeanæ³¨è§£"><a href="#ConditionalOnMissingBeanæ³¨è§£" class="headerlink" title="@ConditionalOnMissingBeanæ³¨è§£"></a>@ConditionalOnMissingBeanæ³¨è§£</h2><p>å½“å®¹å™¨ä¸­æ²¡æœ‰æŒ‡å®šåç§°æˆ–æŒ‡å®šç±»å‹çš„Beanæ—¶ï¼Œè¯¥æ¡ä»¶ä¸ºtrue</p>
<p>è¿™é‡Œè¦æŸ¥æ‰¾çš„â€œå®¹å™¨â€æ˜¯å¯ä»¥æŒ‡å®šçš„ã€‚é€šè¿‡searchå±æ€§æŒ‡å®šã€‚å…¶searchçš„èŒƒå›´æœ‰ä¸‰ç§ï¼šä»…æœç´¢å½“å‰é…ç½®ç±»å®¹å™¨ï¼›æœç´¢æ‰€æœ‰å±‚æ¬¡çš„çˆ¶ç±»å®¹å™¨ï¼Œä½†ä¸åŒ…å«å½“å‰é…ç½®ç±»å®¹å™¨ï¼›æœç´¢å½“å‰é…ç½®ç±»å®¹å™¨åŠå…¶æ‰€æœ‰å±‚æ¬¡çš„çˆ¶ç±»å®¹å™¨ï¼Œè¿™ä¸ªæ˜¯é»˜è®¤æœç´¢èŒƒå›´</p>
<h2 id="RefreshScopeæ³¨è§£"><a href="#RefreshScopeæ³¨è§£" class="headerlink" title="@RefreshScopeæ³¨è§£"></a>@RefreshScopeæ³¨è§£</h2><p>@RefreshScopeæ³¨è§£æ˜¯Spring Cloudä¸­å®šä¹‰çš„ä¸€ä¸ªæ³¨è§£ã€‚è¯¥æ³¨è§£ç”¨äºé…ç½®ç±»ï¼Œå¯ä»¥æ·»åŠ åœ¨é…ç½®ç±»ä¸Šï¼Œä¹Ÿå¯ä»¥æ·»åŠ åœ¨@Beanæ–¹æ³•ä¸Šã€‚å…¶è¡¨ç¤ºçš„æ„æ€æ˜¯ï¼Œè¯¥@Beanæ–¹æ³•ä¼šä»¥å¤šä¾‹çš„å½¢å¼ç”Ÿæˆä¼šè‡ªåŠ¨åˆ·æ–°çš„Beanå®ä¾‹</p>
<h2 id="Lazyæ³¨è§£"><a href="#Lazyæ³¨è§£" class="headerlink" title="@Lazyæ³¨è§£"></a>@Lazyæ³¨è§£</h2><p>è¡¨ç¤ºå»¶è¿Ÿå®ä¾‹åŒ–ã€‚å³åœ¨å½“å‰é…ç½®ç±»è¢«å®ä¾‹åŒ–æ—¶å¹¶ä¸ä¼šè°ƒç”¨è¿™é‡Œçš„@Beanæ–¹æ³•å»åˆ›å»ºå®ä¾‹ï¼Œè€Œæ˜¯åœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒçœŸæ­£éœ€è¦è¿™ä¸ª@Beanæ–¹æ³•çš„å®ä¾‹æ—¶æ‰ä¼šåˆ›å»º</p>
<h2 id="ConditionalOnRefreshScopeæ³¨è§£"><a href="#ConditionalOnRefreshScopeæ³¨è§£" class="headerlink" title="@ConditionalOnRefreshScopeæ³¨è§£"></a>@ConditionalOnRefreshScopeæ³¨è§£</h2><p>æ˜¯ä¸€ä¸ªå¤åˆæ¡ä»¶æ³¨è§£ï¼Œ<strong>ä¸‰ä¸ªæ¡ä»¶æ˜¯ä¸çš„å…³ç³»ï¼Œå¿…é¡»æ‰€æœ‰æ¡ä»¶å‡æ»¡è¶³å…¶æ‰èƒ½åŒ¹é…ä¸Š</strong>ï¼Œå…¶å¤åˆçš„æ¡ä»¶æœ‰ä¸‰ä¸ªï¼š</p>
<ul>
<li><p>åœ¨å½“å‰ç±»è·¯å¾„ä¸‹å…·æœ‰RefreshScopeç±»</p>
</li>
<li><p>åœ¨å®¹å™¨ä¸­è¦å…·æœ‰RefreshAutoConfigurationç±»çš„</p>
</li>
<li><p>å®ä¾‹æŒ‡å®šçš„eureka.client.refresh.enableå±æ€§å€¼ä¸ºtrueã€‚</p>
</li>
</ul>
<h2 id="ConditionalOnMissingRefreshScopeæ³¨è§£"><a href="#ConditionalOnMissingRefreshScopeæ³¨è§£" class="headerlink" title="@ConditionalOnMissingRefreshScopeæ³¨è§£"></a>@ConditionalOnMissingRefreshScopeæ³¨è§£</h2><p><strong>è¿™ä¸ªæ³¨è§£ä¸­çš„æ¡ä»¶æ˜¯æˆ–çš„å…³ç³»ï¼Œåªè¦æ»¡è¶³å…¶ä¸­ä¸€æ¡è¿™ä¸ªæ³¨è§£å°±åŒ¹é…ä¸Š</strong></p>
<ul>
<li><p>åœ¨å½“å‰ç±»è·¯å¾„ä¸‹å…·æœ‰RefreshScopeç±»</p>
</li>
<li><p>åœ¨å®¹å™¨ä¸­è¦å…·æœ‰RefreshAutoConfigurationç±»çš„</p>
</li>
<li><p>å®ä¾‹æŒ‡å®šçš„eureka.client.refresh.enableå±æ€§å€¼ä¸ºtrueã€‚</p>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag"># é¢è¯•</a>
          
            <a href="/tags/Spring-Boot/" rel="tag"># Spring_Boot</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/04/23/Spring-SpringBoot%E6%8B%A6%E6%88%AA%E5%99%A8%E5%92%8C%E8%BF%87%E6%BB%A4%E5%99%A8/" rel="next" title="Spring-SpringBootæ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨">
                <i class="fa fa-chevron-left"></i> Spring-SpringBootæ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/04/23/Spring-Spring%E4%BA%8B%E5%8A%A1/" rel="prev" title="Spring-Springäº‹åŠ¡">
                Spring-Springäº‹åŠ¡ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <!--<a href="/archives/%7C%7Carchive">-->
                <a href="/archives/">
              
                  <span class="site-state-item-count">108</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">70</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">70</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yuanyayuan" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:liyuan0707@outlook.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBootApplication"><span class="nav-number">1.</span> <span class="nav-text">@SpringBootApplication</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ComponentScan"><span class="nav-number">2.</span> <span class="nav-text">@ComponentScan</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#RequestMapping"><span class="nav-number">3.</span> <span class="nav-text">@RequestMapping</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-Bean-%E7%9B%B8%E5%85%B3"><span class="nav-number">4.</span> <span class="nav-text">Spring Bean ç›¸å…³</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Autowired%EF%BC%8C-Resource"><span class="nav-number">4.1.</span> <span class="nav-text">@Autowiredï¼Œ@Resource</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88IDEA%E5%8F%AA%E5%AF%B9-Autowired%E8%AD%A6%E5%91%8A"><span class="nav-number">4.1.1.</span> <span class="nav-text">ä¸ºä»€ä¹ˆIDEAåªå¯¹@Autowiredè­¦å‘Š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Component-Repository-Service-Controller%EF%BC%8C-Bean"><span class="nav-number">4.2.</span> <span class="nav-text">@Component,@Repository,@Service, @Controllerï¼Œ@Bean</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Qualifier"><span class="nav-number">4.3.</span> <span class="nav-text">@ Qualifier</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RestController"><span class="nav-number">4.4.</span> <span class="nav-text">@RestController</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scope"><span class="nav-number">4.5.</span> <span class="nav-text">@Scope</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Configuration"><span class="nav-number">4.6.</span> <span class="nav-text">@Configuration</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BC%A0%E5%80%BC"><span class="nav-number">5.</span> <span class="nav-text">å‰åç«¯ä¼ å€¼</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PathVariable-%E5%92%8C-RequestParam"><span class="nav-number">5.1.</span> <span class="nav-text">@PathVariable å’Œ @RequestParam</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RequestBody"><span class="nav-number">5.2.</span> <span class="nav-text">@RequestBody</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="nav-number">6.</span> <span class="nav-text">è¯»å–é…ç½®ä¿¡æ¯</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C"><span class="nav-number">7.</span> <span class="nav-text">å‚æ•°æ ¡éªŒ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E5%AD%97%E6%AE%B5%E9%AA%8C%E8%AF%81%E7%9A%84%E6%B3%A8%E8%A7%A3"><span class="nav-number">7.1.</span> <span class="nav-text">ä¸€äº›å¸¸ç”¨çš„å­—æ®µéªŒè¯çš„æ³¨è§£</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81%E8%AF%B7%E6%B1%82%E4%BD%93-RequestBody"><span class="nav-number">7.2.</span> <span class="nav-text">éªŒè¯è¯·æ±‚ä½“(RequestBody)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-Path-Variables-%E5%92%8C-Request-Parameters"><span class="nav-number">7.3.</span> <span class="nav-text">éªŒè¯è¯·æ±‚å‚æ•°(Path Variables å’Œ Request Parameters)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E5%A4%84%E7%90%86-Controller-%E5%B1%82%E5%BC%82%E5%B8%B8"><span class="nav-number">8.</span> <span class="nav-text">å…¨å±€å¤„ç† Controller å±‚å¼‚å¸¸</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1-Transactional"><span class="nav-number">9.</span> <span class="nav-text">äº‹åŠ¡ @Transactional</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#json-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="nav-number">10.</span> <span class="nav-text">json æ•°æ®å¤„ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%87%E6%BB%A4-json-%E6%95%B0%E6%8D%AE"><span class="nav-number">10.1.</span> <span class="nav-text">è¿‡æ»¤ json æ•°æ®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96-json-%E6%95%B0%E6%8D%AE"><span class="nav-number">10.2.</span> <span class="nav-text">æ ¼å¼åŒ– json æ•°æ®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%81%E5%B9%B3%E5%8C%96%E5%AF%B9%E8%B1%A1"><span class="nav-number">10.3.</span> <span class="nav-text">æ‰å¹³åŒ–å¯¹è±¡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3"><span class="nav-number">10.4.</span> <span class="nav-text">æµ‹è¯•ç›¸å…³</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3"><span class="nav-number">11.</span> <span class="nav-text">åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Target-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8%E7%9B%AE%E6%A0%87"><span class="nav-number">11.1.</span> <span class="nav-text">@Target:æ³¨è§£çš„ä½œç”¨ç›®æ ‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Retention%EF%BC%9A%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BF%9D%E7%95%99%E4%BD%8D%E7%BD%AE"><span class="nav-number">11.2.</span> <span class="nav-text">@Retentionï¼šæ³¨è§£çš„ä¿ç•™ä½ç½®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Document-Inherited"><span class="nav-number">11.3.</span> <span class="nav-text">@Document,@Inherited</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%88%87%E9%9D%A2"><span class="nav-number">11.4.</span> <span class="nav-text">åˆ›å»ºåˆ‡é¢</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringCloud%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3"><span class="nav-number">12.</span> <span class="nav-text">SpringCloudç›¸å…³æ³¨è§£</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#EnableConfigurationProperties%E6%B3%A8%E8%A7%A3"><span class="nav-number">12.1.</span> <span class="nav-text">@EnableConfigurationPropertiesæ³¨è§£</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ConditionalOnMissingBean%E6%B3%A8%E8%A7%A3"><span class="nav-number">12.2.</span> <span class="nav-text">@ConditionalOnMissingBeanæ³¨è§£</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RefreshScope%E6%B3%A8%E8%A7%A3"><span class="nav-number">12.3.</span> <span class="nav-text">@RefreshScopeæ³¨è§£</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lazy%E6%B3%A8%E8%A7%A3"><span class="nav-number">12.4.</span> <span class="nav-text">@Lazyæ³¨è§£</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ConditionalOnRefreshScope%E6%B3%A8%E8%A7%A3"><span class="nav-number">12.5.</span> <span class="nav-text">@ConditionalOnRefreshScopeæ³¨è§£</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ConditionalOnMissingRefreshScope%E6%B3%A8%E8%A7%A3"><span class="nav-number">12.6.</span> <span class="nav-text">@ConditionalOnMissingRefreshScopeæ³¨è§£</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LiYuan</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  


  

  

</body>
</html>
